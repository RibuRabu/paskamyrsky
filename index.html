<!doctype html>
<html lang="fi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>Tervetuloa paskamyrskyyn!</title>

<style>
  :root{
    --hotpink:#ff00ff;
    --cyan:#00ffff;
    --lime:#00ff66;
    --yellow:#ffe100;
    --bg1:#0a0012;
    --bg2:#001022;
  }

  *{ box-sizing:border-box; }

  body{
    margin:0;
    min-height:100vh;
    font-family: "Comic Sans MS","Comic Sans","Trebuchet MS", Arial, sans-serif;
    color:#fff;
    background:
      radial-gradient(1200px 700px at 20% 20%, rgba(255,0,255,.18), transparent 60%),
      radial-gradient(1200px 700px at 80% 30%, rgba(0,255,255,.14), transparent 60%),
      linear-gradient(135deg, var(--bg1), var(--bg2));
    overflow-x:hidden;
  }

  /* Starfield canvas sits behind everything */
  #stars{
    position:fixed;
    inset:0;
    z-index:-2;
  }

  /* Subtle tiled "sparkle" overlay */
  .sparkle{
    position:fixed;
    inset:0;
    z-index:-1;
    pointer-events:none;
    background:
      radial-gradient(circle at 10px 10px, rgba(255,255,255,.22) 1px, transparent 2px) 0 0/140px 140px,
      radial-gradient(circle at 80px 60px, rgba(0,255,255,.18) 1px, transparent 2px) 0 0/180px 180px,
      radial-gradient(circle at 40px 90px, rgba(255,0,255,.16) 1px, transparent 2px) 0 0/200px 200px;
    mix-blend-mode: screen;
    opacity:.7;
  }

  /* Y2K top chrome */
  .topbar{
    padding:10px 14px;
    background: linear-gradient(90deg, rgba(0,0,0,.65), rgba(0,0,0,.25));
    border-bottom: 3px double rgba(0,255,255,.35);
    display:flex;
    gap:12px;
    flex-wrap:wrap;
    align-items:center;
    justify-content:space-between;
  }

  .badge{
    display:inline-flex;
    align-items:center;
    gap:10px;
    padding:6px 10px;
    border:2px solid rgba(0,255,255,.55);
    background: rgba(0,0,0,.55);
    box-shadow: 0 0 18px rgba(255,0,255,.35);
    font-family: "Courier New", ui-monospace, monospace;
    font-size:12px;
    letter-spacing:.05em;
  }

  .blink{
    animation: blink 1s steps(1,end) infinite;
    color: var(--yellow);
    text-shadow: 0 0 8px rgba(255,225,0,.55);
  }
  @keyframes blink { 50%{opacity:0;} }

  /* Marquee */
  marquee{
    font-family: "Courier New", ui-monospace, monospace;
    background: rgba(0,0,0,.55);
    border-top: 2px solid rgba(255,0,255,.55);
    border-bottom: 2px solid rgba(0,255,255,.55);
    color: var(--lime);
    padding:8px 0;
    text-shadow: 0 0 8px rgba(0,255,102,.45);
  }

  /* Layout */
  .wrap{
    max-width: 980px;
    margin: 26px auto 60px;
    padding: 0 14px;
  }

  .hero{
    background: rgba(0,0,0,.68);
    border: 4px ridge rgba(0,255,255,.55);
    box-shadow:
      0 0 28px rgba(255,0,255,.35),
      0 0 14px rgba(0,255,255,.25);
    padding: 22px 18px 18px;
    text-align:center;
  }

  .title{
    margin: 0;
    font-size: clamp(34px, 6vw, 70px);
    letter-spacing: -0.02em;
    text-shadow:
      0 0 8px rgba(0,255,255,.65),
      0 0 14px rgba(255,0,255,.45);
  }

  .subtitle{
    margin: 10px auto 0;
    max-width: 68ch;
    font-family: "Courier New", ui-monospace, monospace;
    color: rgba(255,255,255,.85);
    line-height: 1.5;
  }

  .grid{
    display:grid;
    grid-template-columns: 1.25fr .75fr;
    gap: 14px;
    margin-top: 14px;
  }

  .panel{
    background: rgba(0,0,0,.62);
    border: 3px outset rgba(255,0,255,.55);
    padding: 14px 14px 12px;
  }

  .panel h2{
    margin: 0 0 8px;
    font-size: 16px;
    letter-spacing: .08em;
    text-transform: uppercase;
    color: var(--cyan);
    text-shadow: 0 0 8px rgba(0,255,255,.35);
  }

  .panel p, .panel li{
    font-family: "Trebuchet MS", Arial, sans-serif;
    line-height: 1.5;
    color: rgba(255,255,255,.9);
  }

  .panel ul{
    margin: 8px 0 0 18px;
    padding:0;
  }

  .links a{
    color: var(--yellow);
    text-decoration: none;
    border-bottom: 1px dashed rgba(255,225,0,.55);
  }
  .links a:hover{
    border-bottom-color: rgba(255,225,0,.95);
  }

  /* Classic "button" style */
  .btnrow{
    display:flex;
    gap:10px;
    flex-wrap:wrap;
    justify-content:center;
    margin-top: 14px;
  }

  .btn{
    display:inline-block;
    padding: 8px 10px;
    border: 3px outset rgba(0,255,255,.65);
    background: linear-gradient(180deg, rgba(0,255,255,.22), rgba(255,0,255,.18));
    color: #fff;
    text-decoration:none;
    font-weight:700;
    text-shadow: 0 0 6px rgba(0,0,0,.6);
  }
  .btn:active{
    border-style: inset;
  }

  /* Fake "animated GIF" using CSS (no external assets) */
  .gifbox{
    display:flex;
    gap:10px;
    flex-wrap:wrap;
    justify-content:center;
    margin-top: 14px;
  }

  .gif{
    width: 120px;
    height: 80px;
    border: 3px groove rgba(255,225,0,.55);
    background:
      repeating-linear-gradient(45deg,
        rgba(255,0,255,.35) 0 8px,
        rgba(0,255,255,.25) 8px 16px,
        rgba(0,255,102,.22) 16px 24px
      );
    position:relative;
    overflow:hidden;
    box-shadow: 0 0 18px rgba(0,255,255,.18);
  }
  .gif:before{
    content:"";
    position:absolute;
    inset:-20px -40px;
    background:
      radial-gradient(circle at 15px 15px, rgba(255,255,255,.75) 1px, transparent 2px) 0 0/30px 30px,
      radial-gradient(circle at 10px 25px, rgba(255,255,255,.55) 1px, transparent 2px) 0 0/34px 34px;
    opacity:.55;
    animation: drift 1.6s linear infinite;
  }
  .gif:after{
    content:"LOADING...";
    position:absolute;
    left:8px;
    bottom:8px;
    font-family:"Courier New", ui-monospace, monospace;
    font-size:12px;
    color: rgba(0,0,0,.75);
    background: rgba(255,225,0,.9);
    padding: 2px 6px;
    border: 2px outset rgba(0,0,0,.25);
    animation: pulse 1.1s steps(2,end) infinite;
  }
  @keyframes drift{
    from{ transform: translateX(0) translateY(0) rotate(0deg); }
    to{ transform: translateX(30px) translateY(10px) rotate(6deg); }
  }
  @keyframes pulse{ 50%{ filter: brightness(1.25);} }

  /* Counter */
  .counter{
    display:flex;
    align-items:center;
    gap:10px;
    margin-top: 10px;
    justify-content:center;
    font-family:"Courier New", ui-monospace, monospace;
  }
  .digits{
    display:inline-flex;
    gap:2px;
    padding: 6px 8px;
    border: 3px inset rgba(0,255,255,.55);
    background: rgba(0,0,0,.7);
  }
  .digit{
    width: 16px;
    text-align:center;
    color: var(--lime);
    text-shadow: 0 0 8px rgba(0,255,102,.35);
  }

  /* Footer */
  .footer{
    margin-top: 14px;
    text-align:center;
    font-family: "Courier New", ui-monospace, monospace;
    color: rgba(255,255,255,.7);
  }
  .footer .small{
    font-size: 12px;
    color: rgba(255,255,255,.55);
  }

  /* “Best viewed in Netscape” badge */
  .netscape{
    display:inline-flex;
    align-items:center;
    gap:10px;
    margin-top: 10px;
    padding: 6px 10px;
    border: 2px solid rgba(255,0,255,.55);
    background: rgba(0,0,0,.55);
    box-shadow: 0 0 14px rgba(255,0,255,.25);
    font-size: 12px;
  }
  .netscape .orb{
    width: 14px; height: 14px; border-radius: 99px;
    background: radial-gradient(circle at 30% 30%, #fff, rgba(0,255,255,.55) 35%, rgba(255,0,255,.55) 70%);
  }

  /* Small screen */
  @media (max-width: 860px){
    .grid{ grid-template-columns: 1fr; }
  }
</style>
</head>

<body>
<canvas id="stars" aria-hidden="true"></canvas>
<div class="sparkle" aria-hidden="true"></div>

<div class="topbar">
  <div class="badge">
    <span class="blink">★ UNDER CONSTRUCTION ★</span>
    <span>best viewed in 800×600</span>
  </div>
  <div class="badge">
    <span>Last updated:</span>
    <span id="lastUpdated">1999-12-31</span>
  </div>
</div>

<marquee behavior="scroll" direction="left" scrollamount="8">
  WELCOME TO MY HOMEPAGE • NO COOKIES • NO TRACKING • PURE 90s ENERGY • SIGN MY GUESTBOOK • HOT LINKS INSIDE •
</marquee>

<div class="wrap">
  <section class="hero">
    <h1 class="title">Tervetuloa paskamyrskyyn!</h1>
    <p class="subtitle">
      Tämä on paskamyrsky. Tarkoituksella överi. Tarkoituksella yksinkertainen.
    </p>

    <div class="btnrow">
      <a class="btn" href="#guestbook">Guestbook</a>
      <a class="btn" href="#links">Hot Links</a>
      <a class="btn" href="#music">MIDI Zone</a>
      <a class="btn" href="#about">About</a>
    </div>

    <div class="gifbox" aria-hidden="true">
      <div class="gif"></div>
      <div class="gif"></div>
      <div class="gif"></div>
    </div>

    <div class="counter" title="Fake retro counter">
      <span>Visitor count:</span>
      <span class="digits" id="digits"></span>
    </div>

    <div class="netscape" title="Pure nostalgia">
      <span class="orb" aria-hidden="true"></span>
      <span>Best viewed in Netscape Navigator</span>
    </div>
  </section>

  <div class="grid">
    <section class="panel" id="about">
      <h2>About this site</h2>
      <p>
        Tämä on perinteinen kotisivuu. Ei backendia(no okei ihan pieni). Ei analytiikkaa(tarkkana saa olla). Ei edes järkeä(vai onko).
      </p>
    </section>

    <section class="panel" id="links">
      <h2>Hot links</h2>
      <p class="links">
        <a href="https://fiksiribu.fi/" target="_blank" rel="noreferrer">Fiksiribu fiksaa sutki</a><br />
        <a href="https://github.com/riburabu" target="_blank" rel="noreferrer">My qithub</a><br />
        <a href="https://liminall.fi/" target="_blank" rel="noreferrer">Liminall productions</a><br />
        <a href="#" onclick="alert('Guestbook is totally real.'); return false;">Sign my guestbook</a><br />
        <a href="#" onclick="alert('You are the 90s now.'); return false;">Download FREE RAM</a><br />
        <a href="#" onclick="alert('What are you doing?'); return false;">Join my web ring</a>
      </p>
      <p style="margin-top:10px; font-family:'Courier New',ui-monospace,monospace; color: rgba(255,255,255,.75);">
      </p>
    </section>

    <section class="panel" id="guestbook">
      <h2>Guestbook</h2>
      <p>
        Jätä viesti anonyymisti vieraskirjaan. Ilman sekoilua.
      </p>

      <form id="gbForm" style="display:grid; gap:10px; margin-top:10px;">
        <label style="font-family:'Courier New',ui-monospace,monospace; color: rgba(255,255,255,.85);">
          Name:
          <input id="gbName" type="text" maxlength="40" style="width:100%; padding:8px; border:2px inset rgba(0,255,255,.45); background: rgba(0,0,0,.65); color:#fff; font-family:'Courier New',ui-monospace,monospace;">
        </label>

        <label style="font-family:'Courier New',ui-monospace,monospace; color: rgba(255,255,255,.85);">
          Message:
          <textarea id="gbMsg" rows="3" maxlength="240" style="width:100%; padding:8px; border:2px inset rgba(255,0,255,.45); background: rgba(0,0,0,.65); color:#fff; font-family:'Courier New',ui-monospace,monospace;"></textarea>
        </label>

        <button class="btn" type="submit" style="cursor:pointer;">Submit</button>
      </form>

      <div id="gbList" style="margin-top:12px; display:grid; gap:10px;"></div>
    </section>

    <section class="panel" id="music">
      <h2>MIDI zone</h2>
      <p>
        Autoplay on moderneissa selaimissa estetty.
      </p>
      <audio controls style="width:100%; margin-top:10px;">
        <source src="music.mp3" type="audio/mpeg">
        <source src="music.ogg" type="audio/ogg">
      </audio>
      <p style="margin-top:10px; font-family:'Courier New',ui-monospace,monospace; color: rgba(255,255,255,.75);">
      </p>
    </section>
  </div>

  <div class="footer">
    <div>© <span id="year"></span> paskamyrsky.fi</div>
    <div class="small">No cookies. No analytics. No dignity. All nostalgia.</div>
  </div>
</div>

<script>
/* === 1) Last updated === */
(function(){
  const el = document.getElementById("lastUpdated");
  const d = new Date();
  const iso = d.toISOString().slice(0,10);
  el.textContent = iso;
  document.getElementById("year").textContent = d.getFullYear();
})();

/* === 2) Retro visitor counter (localStorage per-browser) === */
(function(){
  const key = "retro_counter_v1";
  let n = Number(localStorage.getItem(key) || "0");
  n += 1;
  localStorage.setItem(key, String(n));

  const digits = String(n).padStart(7, "0").split("");
  const wrap = document.getElementById("digits");
  wrap.innerHTML = "";
  for (const ch of digits){
    const s = document.createElement("span");
    s.className = "digit";
    s.textContent = ch;
    wrap.appendChild(s);
  }
})();
/* === 4) Starfield (pure 90s screensaver energy) === */
(function(){
  const c = document.getElementById("stars");
  const ctx = c.getContext("2d", { alpha: true });
  let w, h, dpr;

  function resize(){
    dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
    w = c.width  = Math.floor(window.innerWidth  * dpr);
    h = c.height = Math.floor(window.innerHeight * dpr);
    c.style.width  = window.innerWidth + "px";
    c.style.height = window.innerHeight + "px";
  }
  window.addEventListener("resize", resize, { passive:true });
  resize();

  const STAR_COUNT = 220;
  const stars = Array.from({length: STAR_COUNT}, () => ({
    x: Math.random() * w,
    y: Math.random() * h,
    z: Math.random() * 1 + 0.2,
    r: Math.random() * 1.6 + 0.2
  }));

  let t = 0;
  function tick(){
    t += 0.016;
    ctx.clearRect(0,0,w,h);

    // Slight parallax drift
    const dx = Math.sin(t * 0.6) * 0.35 * dpr;
    const dy = Math.cos(t * 0.5) * 0.35 * dpr;

    for (const s of stars){
      s.x += dx * s.z;
      s.y += dy * s.z;

      if (s.x < 0) s.x += w;
      if (s.x > w) s.x -= w;
      if (s.y < 0) s.y += h;
      if (s.y > h) s.y -= h;

      const tw = (Math.sin(t*2 + s.x*0.01) + 1) * 0.5; // twinkle
      ctx.globalAlpha = 0.25 + tw * 0.6;
      ctx.fillStyle = tw > 0.66 ? "#00ffff" : (tw > 0.33 ? "#ff00ff" : "#ffffff");
      ctx.beginPath();
      ctx.arc(s.x, s.y, s.r * dpr, 0, Math.PI*2);
      ctx.fill();
    }
    requestAnimationFrame(tick);
  }
  tick();
})();
</script>
<script>
(function(){
  const API_BASE = "https://autumn-glade-b588.rkallio88.workers.dev";

  const listEl = document.getElementById("gbList");
  const form = document.getElementById("gbForm");
  const nameEl = document.getElementById("gbName");
  const msgEl  = document.getElementById("gbMsg");

  function esc(s){
    return String(s).replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]));
  }

  async function load(){
    listEl.innerHTML = "Loading...";
    const r = await fetch(`${API_BASE}/api/entries`);
    const entries = await r.json();
    render(entries);
  }

  function render(entries){
    listEl.innerHTML = "";
    if (!entries.length){
      listEl.innerHTML = "<div style='opacity:.6'>No entries yet.</div>";
      return;
    }

    for (const item of entries){
      const div = document.createElement("div");
      div.style.border = "2px dashed #ffe10088";
      div.style.padding = "10px";
      div.style.background = "rgba(0,0,0,.45)";
      div.innerHTML =
        "<b>" + esc(item.name) + "</b> " +
        "<small>(" + item.created_at.slice(0,10) + ")</small><br>" +
        esc(item.message);
      listEl.appendChild(div);
    }
  }

  form.addEventListener("submit", async e=>{
    e.preventDefault();

    await fetch(`${API_BASE}/api/entries`,{
      method:"POST",
      headers:{"Content-Type":"application/json"},
      body: JSON.stringify({
        name:nameEl.value,
        message:msgEl.value
      })
    });

    msgEl.value="";
    load();
  });

  load();
})();
</script>
<style>
  #cookieFloat{
  position: fixed;
  width: 110px;
  height: 110px;
  z-index: 9999;
  cursor: pointer;
  animation: drift 14s linear infinite, spin 9s linear infinite;
}

@keyframes drift{
  0%   { top: 12%; left: 8%; }
  25%  { top: 70%; left: 18%; }
  50%  { top: 44%; left: 82%; }
  75%  { top: 18%; left: 62%; }
  100% { top: 12%; left: 8%; }
}

@keyframes spin{
  from { transform: rotate(0deg); }
  to   { transform: rotate(360deg); }
}
#cookieModal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.85);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 10000;
}

#cookieBox {
  background: black;
  border: 3px dashed lime;
  padding: 20px;
  font-family: "Courier New", monospace;
  color: lime;
  max-width: 420px;
}
</style>



<div id="cookieModal">
  <div id="cookieBox">
    <h3>EVÄSTEASETUKSET</h3>
    <p>
    Tämä sivu EI käytä seurantaa.<br>
    Ei analytiikkaa.<br>
    Ei profilointia.<br>
    Ei mitään.
    </p>

    <button onclick="explode()">ACCEPT ALL COOKIES</button>
    <button onclick="closeCookie()">Sulje</button>
  </div>
</div>

<script>
const cookie = document.getElementById("cookie");
const modal = document.getElementById("cookieModal");

cookie.onclick = () => modal.style.display = "flex";

function closeCookie(){
  modal.style.display = "none";
}

function explode(){
  document.body.style.transition = "all .4s";
  document.body.style.transform = "rotate(3deg) scale(1.05)";
  document.body.style.filter = "invert(1) hue-rotate(180deg)";
  setTimeout(() => {
    document.body.innerHTML = `
      <div style="display:flex;align-items:center;justify-content:center;height:100vh;background:black;color:red;font-family:Courier New;">
        <h1>ALL COOKIES ACCEPTED.</h1>
      </div>
    `;
  }, 600);
}
</script>
  <div id="cookieFloat" title="cookie settings (real)">
  <svg viewBox="0 0 120 120" width="110" height="110">
    <mask id="biteMask">
      <rect width="120" height="120" fill="white"/>
      <circle cx="102" cy="48" r="22" fill="black"/>
    </mask>

    <g mask="url(#biteMask)">
      <circle cx="60" cy="60" r="52" fill="#b4631f"/>
      <circle cx="52" cy="50" r="52" fill="#d8893a" opacity="0.55"/>

      <g fill="#3b1f0f">
        <circle cx="38" cy="38" r="6"/>
        <circle cx="70" cy="32" r="6"/>
        <circle cx="56" cy="58" r="6"/>
        <circle cx="80" cy="72" r="6"/>
        <circle cx="42" cy="76" r="6"/>
      </g>
    </g>
  </svg>
</div>

<script>
document.getElementById("cookieFloat").onclick = () =>
  document.getElementById("cookieModal").style.display = "flex";
</script>
</body>
</html>
